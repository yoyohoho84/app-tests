{"version":3,"sources":["constants.js","sharing-method/index.js","ads/index.js","panels/Home.js","bridge-method/index.js","panels/DefaultPanel.js","panels/ResultPanel.js","App.js","index.js"],"names":["APP_ID","GROUP_ID","USER_ID","Number","URLSearchParams","document","location","search","get","APP_IMG_SHARING_STORIES","APP_IMG_SHARING_WALL","sharing","type","openAlert","e","urlSharing","link","bridge","send","shareLink","then","result","console","log","platform","window","navigator","clipboard","writeText","text","catch","error","copyLink","url","background_type","attachment","story","preventDefault","urlPhotoWall","message","attachments","share","nativeAds","ad_format","res","err","Home","id","getRandomImg","go","setActivePanel","setIMGresult","separator","top","value","onClick","stretched","style","height","backgroundColor","marginTop","borderRadius","color","fontSize","addGroup","openAlertPay","group_id","DefaultPanel","snackbar","getPlatform","display","flexDirection","alignItems","justifyContent","fontWeight","margin","width","ResultPanel","IMGresult","openBase","useEffect","setTimeout","globalURLSharing","data-to","App","useState","activePanel","fetchedUser","setUser","popout","setPopout","activeModal","setActiveModal","setSnackbar","setGetPlatform","duration","layout","onClose","before","size","fill","a","user","subscribe","detail","data","schemeAttribute","createAttribute","scheme","body","attributes","setNamedItem","fetchData","currentTarget","dataset","to","isWebView","modal","min","max","Math","ceil","floor","random","className","linkWall","linkStories","autoclose","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.af3aea9f.chunk.js","sourcesContent":["export const APP_ID = 7767028;\r\nexport const GROUP_ID = 170539045;\r\nexport const USER_ID = Number(\r\n  new URLSearchParams(document.location.search).get(\"vk_user_id\")\r\n);\r\nexport const NAME_PROJECT = \"Какой ты хряк\";\r\nexport const NAME_PROJECT_LOWER_CASE = \"какой ты хряк\";\r\nexport const APP_IMG_SHARING_STORIES = [\r\n  \"https://sun9-41.userapi.com/impg/QMXDwzzKkhKEbaP2RdKhCboEE6hJCGO5BRucNw/EIOAj_wM1RA.jpg?size=642x1080&quality=96&proxy=1&sign=41e65c32a6fef834b1a2aad087a0e598&type=album\",\r\n  \"https://sun9-47.userapi.com/impg/JyASRpBRSb1l4ZaW1Qy2BkSiO--Si8ujJSELew/IpCta4BGMME.jpg?size=642x1080&quality=96&proxy=1&sign=e05ad9bc1f471c7d83884a769956c760&type=album\",\r\n  \"https://sun9-12.userapi.com/impg/vuv90DMcIaUh3bgyzAC7skSE246NO76dfe67qQ/H9ckpJfV214.jpg?size=642x1080&quality=96&proxy=1&sign=d8e871429ff9428756bd0db08f01c4e1&type=album\",\r\n  \"https://sun9-70.userapi.com/impg/PIncOWiXSyFZXDQbsrqCjBJJ0AFdwl12J_CObg/48HZNnpGdaA.jpg?size=642x1080&quality=96&proxy=1&sign=68ae98567765b600a8961bcc522ddec7&type=album\",\r\n  \"https://sun9-18.userapi.com/impg/tWOE92_YcE1Ud8nkkaKFQQUc6DQ-oxO5qtLkzg/ejkVyRJ7Pos.jpg?size=642x1080&quality=96&proxy=1&sign=d1379cbc6a3f62790c43467fdd3da7db&type=album\",\r\n  \"https://sun9-29.userapi.com/impg/01O5dndKtsaA51PpK9TmtidtGaRwrYVggcmKKg/7PmYx0vJhv4.jpg?size=642x1080&quality=96&proxy=1&sign=4a118da7a5e9d815bd8eb1909082f98a&type=album\",\r\n  \"https://sun9-48.userapi.com/impg/zgDK304wyOLAFBivQHVpGnPd5KRHj28T4Nt_LQ/oLnHAa9nUEs.jpg?size=642x1080&quality=96&proxy=1&sign=f4f875db38217e8adda45c9f58b0d8f0&type=album\",\r\n  \"https://sun9-46.userapi.com/impg/hIDdg9ew2QUeIz-QjVMaTsBz7iMhIhOq_mxiZQ/jYjqILkZdbk.jpg?size=642x1080&quality=96&proxy=1&sign=6134b5ba071bd13feab82cde2fa64138&type=album\",\r\n  \"https://sun9-61.userapi.com/impg/tsdW-nmDZ-_n2k7Kf4xZrZ9qdTjsh5rJo5w5eA/qxXNJVGTZwo.jpg?size=642x1080&quality=96&proxy=1&sign=04b4e4cab4c1398b3a6c889a39fa0425&type=album\",\r\n  \"https://sun9-11.userapi.com/impg/jhPXDo5gBGGMStatDMdqxYiT3x8aBWMHjw2SeQ/GO3BxAkgRuQ.jpg?size=642x1080&quality=96&proxy=1&sign=72b5d5597bb2ab685a1e43d8c94aee2c&type=album\",\r\n  \"https://sun9-45.userapi.com/impg/Ig2rNrVqHblRlAXJDVH5qn3-0JkYQCe2a2Do8A/yOAWp7qXwb0.jpg?size=642x1080&quality=96&proxy=1&sign=27db447673b9886446ba5e90fec80fb6&type=album\",\r\n  \"https://sun9-34.userapi.com/impg/L-qk2VBlw9mClIk0UvGCon7qOl-2Cn0l--PDKQ/-smQgdMv3Ik.jpg?size=642x1080&quality=96&proxy=1&sign=1e6bcd5369b26f5eb9f385ee0b2cb7f1&type=album\",\r\n  \"https://sun9-43.userapi.com/impg/vpvM8OHHSnxWnfArAT6KhS-cjfrcO_oZJpMQQg/hmo_I4yYWDk.jpg?size=642x1080&quality=96&proxy=1&sign=97376f2a2cc3deabeb7b533334338713&type=album\",\r\n  \"https://sun9-26.userapi.com/impg/AuTuAzvZg0H41p5KSEeIIUyiAj0kRYNYAxP4Qw/kcuFsmeyV5A.jpg?size=642x1080&quality=96&proxy=1&sign=fc675c9828eae843d0adb0353cc75c71&type=album\",\r\n  \"https://sun9-43.userapi.com/impg/CGJlA6X2d1gxPFIIisdUjwX-YCj92mclp0jfGA/3kFK60oWqok.jpg?size=642x1080&quality=96&proxy=1&sign=8636d74de702c52c8d21c8210df1ed62&type=album\",\r\n];\r\n\r\nexport const APP_IMG_SHARING_WALL = [\r\n  \"photo-202712051_457239017\",\r\n  \"photo-202712051_457239018\",\r\n  \"photo-202712051_457239019\",\r\n  \"photo-202712051_457239020\",\r\n  \"photo-202712051_457239021\",\r\n  \"photo-202712051_457239022\",\r\n  \"photo-202712051_457239023\",\r\n  \"photo-202712051_457239024\",\r\n  \"photo-202712051_457239025\",\r\n  \"photo-202712051_457239026\",\r\n  \"photo-202712051_457239027\",\r\n  \"photo-202712051_457239028\",\r\n  \"photo-202712051_457239029\",\r\n  \"photo-202712051_457239030\",\r\n  \"photo-202712051_457239031\",\r\n];\r\n","import bridge from \"@vkontakte/vk-bridge\";\r\nimport {\r\n  APP_ID,\r\n  APP_IMG_SHARING_STORIES,\r\n  APP_IMG_SHARING_WALL,\r\n  USER_ID,\r\n} from \"../constants\";\r\n\r\nexport function sharing(type, openAlert, e, urlSharing) {\r\n  switch (type) {\r\n    case \"share-link\":\r\n      shareLink();\r\n      break;\r\n    case \"copy-link\":\r\n      copyLink(openAlert);\r\n      break;\r\n    case \"story\":\r\n      story(urlSharing);\r\n      break;\r\n    case \"share-wall\":\r\n      share(e, urlSharing);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction shareLink() {\r\n  const link = `https://vk.com/app${APP_ID}`;\r\n  bridge.send(\"VKWebAppShare\", {\r\n    link: link,\r\n  });\r\n}\r\n\r\n// Копирование в буфер\r\nfunction copyLink(openAlert) {\r\n  const link = `https://vk.com/app${APP_ID}`;\r\n  bridge\r\n    .send(\"VKWebAppGetClientVersion\")\r\n    .then((result) => {\r\n      console.log(result.platform);\r\n      if (result.platform === \"web\" || result.platform === \"mobile-web\") {\r\n        window.navigator.clipboard.writeText(link).then(\r\n          () => {\r\n            console.log(\"successfully set\", link);\r\n            openAlert(\"Ссылка скопирована\");\r\n          },\r\n          () => {\r\n            console.log(\"write failed\", link);\r\n          }\r\n        );\r\n      } else {\r\n        bridge.send(\"VKWebAppCopyText\", { text: link });\r\n        openAlert(\"Ссылка скопирована\");\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n    });\r\n}\r\n\r\n//  Поделиться в истории\r\nfunction story(urlSharing) {\r\n  const url = `https://vk.com/app${APP_ID}#${USER_ID}`;\r\n\r\n  bridge.send(\"VKWebAppShowStoryBox\", {\r\n    background_type: \"image\",\r\n    url: urlSharing,\r\n    attachment: {\r\n      text: \"go_to\",\r\n      type: \"url\",\r\n      url: url,\r\n    },\r\n  });\r\n}\r\n\r\n//  ДОБАВЛЕНИЕ РЕПОСТА НА СТЕНУ ПОЛЬЗОВАТЕЛЯ\r\nfunction share(e, urlSharing) {\r\n  e.preventDefault();\r\n\r\n  const url = `https://vk.com/app${APP_ID}`;\r\n  const urlPhotoWall = `${urlSharing},https://vk.com/app${APP_ID}`;\r\n  const text = `Узнай если не боишься! Приложение - ${url}`;\r\n\r\n  bridge.send(\"VKWebAppShowWallPostBox\", {\r\n    message: text,\r\n    attachments: urlPhotoWall,\r\n  });\r\n}\r\n","\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\n// открытие рекламного ролика\r\n export function nativeAds() {\r\n  return bridge\r\n    .send(\"VKWebAppShowNativeAds\", {\r\n      ad_format: \"preloader\",\r\n    })\r\n    .then((res) => console.log(\"VKWebAppShowNativeAds RES\", res))\r\n    .catch((err) => console.log(\"VKWebAppShowNativeAds ERR\", err));\r\n}\r\n\r\n/**\r\n * Открывает рекламный баннер на весь экран\r\n * @returns {Promise<boolean>}\r\n */\r\nexport async function showNativeAd() {\r\n  try {\r\n    const data = await bridge.send(\"VKWebAppShowNativeAds\", {\r\n      ad_format: \"preloader\",\r\n    });\r\n\r\n    return data.result !== undefined ? data.result : false;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}","import React from \"react\";\n\nimport {\n  Panel,\n  PanelHeader,\n  Button,\n  Div,\n  Group,\n  FormItem,\n  NativeSelect,\n} from \"@vkontakte/vkui\";\n\nconst Home = ({ id, go, getRandomImg, setIMGresult, setActivePanel }) => {\n  return (\n    <Panel id={id} separator={false}>\n      <PanelHeader>Узнай какой ты хряк</PanelHeader>\n      <Group>\n        <FormItem top=\"Вы любите сало?\">\n          <NativeSelect>\n            <option value=\"yes\">Не выбрано</option>\n            <option value=\"yes\">Да</option>\n            <option value=\"no\">Нет</option>\n          </NativeSelect>\n        </FormItem>\n        <FormItem top=\"Вы имеете избыточный вес?\">\n          <NativeSelect>\n            <option value=\"yes\">Не выбрано</option>\n            <option value=\"yes\">Да</option>\n            <option value=\"no\">Нет</option>\n          </NativeSelect>\n        </FormItem>\n        <FormItem top=\"Вы любите Украину?\">\n          <NativeSelect>\n            <option value=\"yes\">Не выбрано</option>\n            <option value=\"yes\">Да</option>\n            <option value=\"no\">Нет</option>\n          </NativeSelect>\n        </FormItem>\n        <FormItem top=\"Вы считаете себя чувствительной натурой?\">\n          <NativeSelect>\n            <option value=\"yes\">Не выбрано</option>\n            <option value=\"yes\">Да</option>\n            <option value=\"no\">Нет</option>\n          </NativeSelect>\n        </FormItem>\n\n        <FormItem>\n          <Button\n            onClick={() => {\n              getRandomImg(0, 15);\n              setActivePanel(\"result-panel\");\n            }}\n            stretched\n            style={{\n              //   width: \"200px\",\n              height: \"60px\",\n              backgroundColor: \"#165df5\",\n              marginTop: \"5px\",\n              borderRadius: \"10px\",\n            }}\n          >\n            <span\n              style={{\n                color: \"white\",\n                fontSize: \"20px\",\n              }}\n            >\n              Узнать результат\n            </span>\n          </Button>\n        </FormItem>\n      </Group>\n    </Panel>\n  );\n};\n\nexport { Home };\n","import bridge from \"@vkontakte/vk-bridge\";\r\n//constants\r\nimport { GROUP_ID } from \"../constants\";\r\n\r\n// разрешение на отправку сообщений от имени группы\r\nexport function subscribeMessageFromGroup(openAlertPay, setActiveTab) {\r\n  bridge\r\n    .send(\"VKWebAppAllowMessagesFromGroup\", {\r\n      group_id: GROUP_ID,\r\n    })\r\n    .then((res) => {\r\n      // console.log(\"subscribeMessageFromGroup result\", res);\r\n    })\r\n    .catch((err) => {\r\n      // console.log(\"subscribeMessageFromGroup result\", err);\r\n\r\n      setActiveTab(\"buy\");\r\n      openAlertPay(\r\n        `Чтобы продолжить, разрешите отправку сообщений от имени группы`,\r\n        \"red\"\r\n      );\r\n    });\r\n}\r\n\r\n// подписка на группу\r\nexport function addGroup(openAlertPay, setActivePanel) {\r\n  console.log(\"add group\");\r\n\r\n  bridge\r\n    .send(\"VKWebAppJoinGroup\", { group_id: GROUP_ID })\r\n    .then(({ result }) => {\r\n      console.log(\"VKWebAppJoinGroup\", result);\r\n      if (result) {\r\n        setActivePanel(\"home\");\r\n        openAlertPay(\"Вы уже подписаны на группу\");\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      openAlertPay(\"Подпишитесь на группу, чтобы продолжить\", \"red\");\r\n    });\r\n}\r\n\r\n// добавление сервиса в сообщество\r\nexport function AddToCommunity() {\r\n  bridge\r\n    .send(\"VKWebAppAddToCommunity\", {})\r\n    .then((res) => {\r\n      if (res.group_id) {\r\n        console.log(\"AddToCommunity res:\", res.group_id);\r\n        return true;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"AddToCommunity err:\", err);\r\n      return false;\r\n    });\r\n}\r\n\r\n// открытие др приложение\r\nexport function goToApp(appID) {\r\n  bridge.send(\"VKWebAppOpenApp\", { app_id: appID, location: \"GLI\" });\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport {\r\n  Panel,\r\n  PanelHeader,\r\n  Button,\r\n  Div,\r\n  Group,\r\n  Header,\r\n  Cell,\r\n} from \"@vkontakte/vkui\";\r\n\r\nimport { addGroup } from \"../bridge-method\";\r\n\r\nconst DefaultPanel = ({\r\n  id,\r\n  go,\r\n  openAlertPay,\r\n  setActivePanel,\r\n  snackbar,\r\n  getPlatform,\r\n}) => {\r\n  // useEffect(() => {\r\n  //   addGroup(true, openAlertPay);\r\n  // },[])\r\n\r\n  function verificationSubscription() {\r\n    addGroup(openAlertPay, setActivePanel);\r\n  }\r\n\r\n  return (\r\n    <Panel id={id} separator={false}>\r\n      <PanelHeader></PanelHeader>\r\n      <Div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          marginTop: \"150px\",\r\n        }}\r\n      >\r\n        {getPlatform === \"web\" ? (\r\n          <Div\r\n            style={{\r\n              fontWeight: \"bold\",\r\n              fontSize: \"25px\",\r\n              margin: \"0px 10px 0px 10px\",\r\n            }}\r\n          >\r\n            Хотите подписаться на наше сообщество?\r\n          </Div>\r\n        ) : (\r\n          <>\r\n            <Div\r\n              style={{\r\n                fontWeight: \"bold\",\r\n                fontSize: \"25px\",\r\n                margin: \"0px 10px 0px 10px\",\r\n              }}\r\n            >\r\n              Хотите подписаться на\r\n            </Div>\r\n            <Div\r\n              style={{\r\n                fontWeight: \"bold\",\r\n                fontSize: \"25px\",\r\n                margin: \"0px 10px 0px 10px\",\r\n              }}\r\n            >\r\n              наше сообщество?\r\n            </Div>\r\n          </>\r\n        )}\r\n\r\n        <Button\r\n          onClick={() => addGroup(openAlertPay, setActivePanel)}\r\n          style={{\r\n            width: \"200px\",\r\n            height: \"80px\",\r\n            backgroundColor: \"#165df5\",\r\n            marginTop: \"50px\",\r\n            borderRadius: \"45px\",\r\n          }}\r\n        >\r\n          <span\r\n            style={{\r\n              color: \"white\",\r\n              fontSize: \"20px\",\r\n            }}\r\n          >\r\n            Подписаться\r\n          </span>\r\n        </Button>\r\n      </Div>\r\n      {snackbar}\r\n    </Panel>\r\n  );\r\n};\r\n\r\nexport { DefaultPanel };\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport {\r\n  Panel,\r\n  PanelHeader,\r\n  Button,\r\n  Div,\r\n  Group,\r\n  FormItem,\r\n  NativeSelect,\r\n} from \"@vkontakte/vkui\";\r\n\r\n//constants\r\nimport { APP_IMG_SHARING_STORIES, APP_IMG_SHARING_WALL } from \"../constants\";\r\nimport { nativeAds } from \"../ads\";\r\nimport { sharing } from \"../sharing-method\";\r\n\r\nconst ResultPanel = ({ id, go, IMGresult, openBase }) => {\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      nativeAds();\r\n    }, 1000);\r\n  }, []);\r\n\r\n  return (\r\n    <Panel id={id} separator={false}>\r\n      <PanelHeader></PanelHeader>\r\n\r\n      <Div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-around\",\r\n          height: \"450px\",\r\n          // marginTop: \"150px\",\r\n        }}\r\n      >\r\n        {IMGresult}\r\n        {/* <Div className=\"icon1\"></Div> */}\r\n        <Div>\r\n          <Button\r\n            // onClick={openBase}\r\n            onClick={() =>\r\n              sharing(\r\n                \"story\",\r\n                null,\r\n                null,\r\n                APP_IMG_SHARING_STORIES[globalURLSharing.url]\r\n              )\r\n            }\r\n            style={{\r\n              width: \"200px\",\r\n              height: \"40px\",\r\n              backgroundColor: \"#165df5\",\r\n              marginTop: \"5px\",\r\n              borderRadius: \"10px\",\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                color: \"white\",\r\n                fontSize: \"15px\",\r\n              }}\r\n            >\r\n              Поделиться в истории\r\n            </span>\r\n          </Button>\r\n        </Div>\r\n        <Div>\r\n          <Button\r\n            onClick={go}\r\n            data-to=\"home\"\r\n            style={{\r\n              width: \"200px\",\r\n              height: \"40px\",\r\n              backgroundColor: \"#165df5\",\r\n              marginTop: \"5px\",\r\n              borderRadius: \"10px\",\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                color: \"white\",\r\n                fontSize: \"15px\",\r\n              }}\r\n            >\r\n              Пройти еще раз\r\n            </span>\r\n          </Button>\r\n        </Div>\r\n      </Div>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nexport { ResultPanel };\r\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport {\n  View,\n  ScreenSpinner,\n  TabbarItem,\n  Epic,\n  Div,\n  Tabbar,\n  ConfigProvider,\n  ActionSheet,\n  ActionSheetItem,\n  Snackbar,\n  Avatar,\n  CellButton,\n} from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport Icon16Done from \"@vkontakte/icons/dist/16/done\";\nimport Icon16Cancel from \"@vkontakte/icons/dist/16/cancel\";\n\nimport \"./styles/reset.sass\";\nimport \"./styles/panels.sass\";\nimport \"./styles/img.sass\";\n\n//constants\nimport { APP_IMG_SHARING_STORIES, APP_IMG_SHARING_WALL } from \"./constants\";\n\nimport { sharing } from \"./sharing-method\";\nimport { nativeAds } from \"./ads\";\n\nimport { Home, DefaultPanel, ResultPanel } from \"./panels\";\n\nwindow.globalURLSharing = {\n  url: 0,\n};\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"default-panel\");\n  const [fetchedUser, setUser] = useState(null);\n  const [popout, setPopout] = useState();\n  const [IMGresult, setIMGresult] = useState(null);\n  const [urlSharing, setUrlSharing] = useState(null);\n  const [activeModal, setActiveModal] = useState(null);\n  const [snackbar, setSnackbar] = useState(null);\n  const [getPlatform, setGetPlatform] = useState(null);\n  const arrImgSharingWall = [];\n  const arrImgSharingStories = [];\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\n      setUser(user);\n      setPopout(null);\n    }\n    fetchData();\n\n    setTimeout(() => {\n      nativeAds();\n    }, 1000);\n  }, []);\n\n  useEffect(() => {\n    // Определение ОС\n    bridge\n      .send(\"VKWebAppGetClientVersion\")\n      .then((result) => {\n        setGetPlatform(result.platform);\n        // getPlatform = result.platform;\n\n        console.log(\"result.platform\", getPlatform);\n      })\n      .catch((err) => console.log(err));\n  }, [getPlatform]);\n\n  function openAlertPay(text, backgroundColor = \"green\") {\n    if (snackbar) return;\n    setSnackbar(\n      <Snackbar\n        duration=\"12000\"\n        layout=\"horizontal\"\n        onClose={() => setSnackbar(null)}\n        before={\n          <Avatar size={24} style={{ backgroundColor }}>\n            {backgroundColor === \"green\" ? (\n              <Icon16Done fill=\"#fff\" width={14} height={14} />\n            ) : (\n              <Icon16Cancel fill=\"#fff\" width={14} height={14} />\n            )}\n          </Avatar>\n        }\n      >\n        {text}\n      </Snackbar>\n    );\n  }\n\n  function openBase() {\n    setActiveModal(null);\n    setPopout(\n      <>\n        <ActionSheet onClose={() => setPopout(null)}>\n          <ActionSheetItem\n            autoclose\n            onClick={() =>\n              sharing(\n                \"share-link\",\n                null,\n                null,\n                APP_IMG_SHARING_WALL[globalURLSharing.url]\n              )\n            }\n          >\n            Поделиться ссылкой\n          </ActionSheetItem>\n          <ActionSheetItem\n            autoclose\n            onClick={() =>\n              sharing(\n                \"copy-link\",\n                openAlertPay,\n                null,\n                APP_IMG_SHARING_WALL[globalURLSharing.url]\n              )\n            }\n          >\n            Скопировать ссылку\n          </ActionSheetItem>\n          <ActionSheetItem\n            autoclose\n            onClick={() =>\n              sharing(\n                \"story\",\n                null,\n                null,\n                APP_IMG_SHARING_STORIES[globalURLSharing.url]\n              )\n            }\n          >\n            Поделиться в истории\n          </ActionSheetItem>\n          <ActionSheetItem\n            autoclose\n            onClick={(e) =>\n              sharing(\n                \"share-wall\",\n                null,\n                e,\n                APP_IMG_SHARING_WALL[globalURLSharing.url]\n              )\n            }\n          >\n            Поделиться на стене\n          </ActionSheetItem>\n        </ActionSheet>\n      </>\n    );\n  }\n\n  function getRandomImg(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    const result = Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\n\n    globalURLSharing.url = result;\n    // setUrlSharing(result);\n    setIMGresult(<Div className={`icon${result}`}></Div>);\n    console.log({\n      linkWall: APP_IMG_SHARING_WALL[result],\n      linkStories: APP_IMG_SHARING_STORIES[result],\n      result: result,\n      IMGresult: <Div className={`icon${result}`}></Div>,\n    });\n  }\n\n  const go = (e) => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return (\n    <ConfigProvider isWebView={true}>\n      <View activePanel={activePanel} popout={popout} modal={activeModal}>\n        <Home\n          id=\"home\"\n          fetchedUser={fetchedUser}\n          go={go}\n          setIMGresult={setIMGresult}\n          getRandomImg={getRandomImg}\n          setActivePanel={setActivePanel}\n        />\n        <DefaultPanel\n          id=\"default-panel\"\n          fetchedUser={fetchedUser}\n          go={go}\n          openAlertPay={openAlertPay}\n          setActivePanel={setActivePanel}\n          snackbar={snackbar}\n          getPlatform={getPlatform}\n        />\n        <ResultPanel\n          id=\"result-panel\"\n          fetchedUser={fetchedUser}\n          go={go}\n          IMGresult={IMGresult}\n          urlSharing={urlSharing}\n          openBase={openBase}\n        />\n      </View>\n    </ConfigProvider>\n  );\n};\n\nexport default App;\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}